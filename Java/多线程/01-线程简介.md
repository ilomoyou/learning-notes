# 进程、线程、多线程

- 在操作系统中运行的程序就是进程，比如你的QQ、微信、播放器、游戏、IED等~
- 一个进程可以有多个线程，如观看视频时可以同时听声音、看图像、看弹幕等~

- 编程中普通方法调用和多线程：

![image-20210327184323114](01-%E7%BA%BF%E7%A8%8B%E7%AE%80%E4%BB%8B.assets/image-20210327184323114.png)

**Process(进程) 与 Thread(线程)**

- 说起进程，就不得不说下**程序**。程序是指令和数据的有序集合，其本身没有任何运行的含义，是一个**静态**的概念。
- 而**进程则是执行程序的一次执行过程**，它是一个**动态**的概念。**是系统资源分配的单位**
- 通常在一个进程中可以包含若干个**线程**，当然**一个进程中至少有一个线程**，不然没有存在的意义。**线程是 CPU 调度和执行的单位**

注意：很多 多线程是模拟出来的，真正的多线程是指有多个 CPU，即多核，如服务器。如果是模拟出来的多线程，即在一个 CPU 的情况下，在同一个时间点，CPU 只能执行一个代码，因为切换得很快，所以就有同时执行的错觉

核心概念：

- 线程就是独立的执行路径
- 在程序运行时，即使没有自己创建线程，后台也会有多个线程，如主线程，gc 线程
- main() 称之为主线程，为系统的入口，用于执行整个程序
- 在一个进程中，如果开辟了多个线程，线程的运行由调度器安排调度，调度器是与操作系统紧密相关的，先后顺序是不能人为干预的
- 对同一份资源操作时，会存在资源抢夺的问题，需要加入并发控制
- 线程会带来额外的开销，如 CPU 调度时间，并发控制开销
- 每个线程在自己的工作内存交互，内存控制不当会造成数据不一致